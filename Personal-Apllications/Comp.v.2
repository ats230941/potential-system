<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrier & Internet Intelligence 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .card-anim { transition: all 0.2s ease-in-out; }
        .card-anim:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        .tab-active { border-bottom: 2px solid #ef4444; color: #ef4444; }
        .daily-badge { font-size: 0.65rem; padding: 2px 6px; border-radius: 4px; font-weight: 800; }
        .bundle-glow { box-shadow: 0 0 15px rgba(239, 68, 68, 0.2); border: 2px solid #ef4444 !important; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans">

    <!-- Navigation -->
    <nav class="bg-white border-b sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center text-white font-bold">C</div>
                <h1 class="text-xl font-bold tracking-tight">Competitive<span class="text-red-600">Sync</span> <span class="text-xs font-normal text-slate-400 ml-2">v4.0 Bundle Edition</span></h1>
            </div>
            <div class="flex gap-4 text-sm font-medium">
                <button onclick="switchTab('mobile')" id="btn-mobile" class="tab-active py-5 px-2 font-bold">Mobile Plans</button>
                <!-- Home Internet tab removed as requested -->
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 py-8">
        
        <!-- Intelligence Summary Bar -->
        <div id="billing-summary" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
            <!-- Dynamically Injected -->
        </div>

        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Sidebar: Bundle Logic -->
            <aside class="w-full lg:w-80 space-y-6">
                <div class="bg-white p-6 rounded-2xl shadow-sm border">
                    <h2 class="text-sm font-black uppercase text-slate-400 mb-4 tracking-widest">Household Profile</h2>
                    
                    <div class="mb-6">
                        <label class="block text-xs font-bold uppercase text-slate-500 mb-2">Mobile Lines</label>
                        <select id="lineCount" onchange="renderAll()" class="w-full p-2 border rounded-lg bg-slate-50 outline-none focus:ring-2 focus:ring-red-500 font-bold">
                            <option value="1">1 Line</option>
                            <option value="2">2 Lines</option>
                            <option value="3">3 Lines</option>
                            <option value="4" selected>4 Lines</option>
                            <option value="5">5 Lines</option>
                        </select>
                    </div>

                    <div class="space-y-4">
                        <div class="flex items-center justify-between">
                            <label for="autoPayToggle" class="text-sm font-bold text-slate-700">Auto Pay</label>
                            <input type="checkbox" id="autoPayToggle" checked onchange="renderAll()" class="w-5 h-5 accent-red-600">
                        </div>
                        <div class="flex items-center justify-between">
                            <label for="promoToggle" class="text-sm font-bold text-slate-700">Promos</label>
                            <input type="checkbox" id="promoToggle" checked onchange="renderAll()" class="w-5 h-5 accent-red-600">
                        </div>
                    </div>
                </div>

                <div class="bg-slate-900 text-white p-6 rounded-2xl shadow-lg border border-slate-700">
                    <h2 class="text-sm font-black uppercase text-red-500 mb-4 tracking-widest">Bundle Stacker</h2>
                    <p class="text-[10px] text-slate-400 mb-4">Select an Internet provider to see wireless bundle savings:</p>
                    
                    <div class="space-y-2" id="bundle-selector">
                        <button onclick="setBundle('none')" id="bundle-none" class="w-full text-left p-3 rounded-lg border border-red-500 bg-slate-700 text-xs font-bold">Standalone Mobile</button>
                        <button onclick="setBundle('vzw')" id="bundle-vzw" class="w-full text-left p-3 rounded-lg border border-slate-700 bg-slate-800 text-xs font-bold hover:bg-slate-700">Verizon/Frontier (-$15)</button>
                        <button onclick="setBundle('tmo')" id="bundle-tmo" class="w-full text-left p-3 rounded-lg border border-slate-700 bg-slate-800 text-xs font-bold hover:bg-slate-700">T-Mobile Internet (-$15)</button>
                        <button onclick="setBundle('att')" id="bundle-att" class="w-full text-left p-3 rounded-lg border border-slate-700 bg-slate-800 text-xs font-bold hover:bg-slate-700">AT&T Fiber (-20%)</button>
                    </div>

                    <div id="bundle-math" class="mt-6 pt-6 border-t border-slate-700 hidden">
                        <p class="text-[10px] font-bold text-red-400 uppercase">Estimated Savings</p>
                        <p id="savings-val" class="text-3xl font-black text-white">-$0.00</p>
                    </div>
                </div>
            </aside>

            <!-- Main Content Grid -->
            <div class="flex-1">
                <div id="view-mobile">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="mobile-grid"></div>
                </div>

                <div id="view-internet" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6" id="internet-grid"></div>
                </div>
            </div>
        </div>
    </main>

    <script>
        let currentBundle = 'none';

        const data = {
            mobile: [
                { id: 'vzw', name: 'Verizon (Ref)', color: 'border-red-600', rates: [65, 55, 40, 30, 30], apd: 10, bundleDiscount: 0, perk: 'Disney Bundle Option' },
                { id: 'tmo', name: 'T-Mobile', color: 'border-pink-500', rates: [50, 40, 46.6, 25, 25], apd: 5, bundleDiscount: 0, perk: 'Netflix/Hulu Included' },
                { id: 'att', name: 'AT&T', color: 'border-blue-500', rates: [51, 41, 36, 36, 36], apd: 10, bundleDiscount: 0.20, perk: 'ActiveArmor Pro' },
                { id: 'crk', name: 'Cricket', color: 'border-green-600', rates: [60, 45, 30, 25, 25], apd: 5, bundleDiscount: 0, perk: 'Max Included' }
            ],
            internet: [
                { id: 'vzw', name: 'Verizon 5G Home', price: 60, bundlePrice: 35, apd: 10, speed: '300-1000 Mbps', color: 'border-red-600' },
                { id: 'tmo', name: 'T-Mobile Internet', price: 60, bundlePrice: 40, apd: 5, speed: '245+ Mbps', color: 'border-pink-500' },
                { id: 'att', name: 'AT&T Fiber 1Gig', price: 80, bundlePrice: 64, apd: 10, speed: '1000 Mbps', color: 'border-blue-600' }
            ]
        };

        function setBundle(id) {
            currentBundle = id;
            document.querySelectorAll('#bundle-selector button').forEach(b => {
                b.classList.remove('border-red-500', 'bg-slate-700');
                b.classList.add('border-slate-700', 'bg-slate-800');
            });
            document.getElementById(`bundle-${id}`).classList.add('border-red-500', 'bg-slate-700');
            
            // Auto-switch view logic: if they pick a bundle, they likely want to see the mobile rates first
            switchTab('mobile'); 
            renderAll();
        }

        function switchTab(tab) {
            document.getElementById('view-mobile').classList.toggle('hidden', tab !== 'mobile');
            document.getElementById('view-internet').classList.toggle('hidden', tab !== 'internet');
            
            const mobileBtn = document.getElementById('btn-mobile');
            if (mobileBtn) {
                mobileBtn.className = tab === 'mobile' ? 'tab-active py-5 px-2 font-bold' : 'py-5 px-2 text-slate-500 hover:text-red-600 font-bold';
            }
            renderAll();
        }

        function renderAll() {
            const lines = parseInt(document.getElementById('lineCount').value);
            const useAutoPay = document.getElementById('autoPayToggle').checked;
            const showPromos = document.getElementById('promoToggle').checked;

            // Calculate Verizon Baseline for Comparison
            const vzwRef = data.mobile.find(m => m.id === 'vzw');
            const vzwBaseRate = useAutoPay ? vzwRef.rates[lines - 1] : vzwRef.rates[lines - 1] + vzwRef.apd;
            const vzwTotal = vzwBaseRate * lines;

            // Render Summary
            const summary = document.getElementById('billing-summary');
            summary.innerHTML = `
                <div class="bg-white p-4 rounded-xl border-l-4 border-red-600 shadow-sm">
                    <p class="text-xs font-bold text-slate-400 uppercase">Current Configuration</p>
                    <p class="text-2xl font-black">$${vzwTotal.toFixed(2)}<span class="text-sm font-normal text-slate-400">/mo</span></p>
                    <p class="text-[10px] font-bold text-slate-500">${lines} Lines Â· ${useAutoPay ? 'AutoPay ON' : 'Manual Pay'}</p>
                </div>
                <div class="bg-white p-4 rounded-xl border-l-4 border-blue-500 shadow-sm">
                    <p class="text-xs font-bold text-slate-400 uppercase">Bundle Status</p>
                    <p class="text-2xl font-black text-blue-600">${currentBundle === 'none' ? 'No Bundle' : currentBundle.toUpperCase() + ' Bundle'}</p>
                    <p class="text-[10px] font-bold text-green-600 uppercase tracking-tighter">${currentBundle !== 'none' ? 'Active Discounts Applied Below' : 'Select a provider to stack'}</p>
                </div>
                <div class="bg-slate-900 text-white p-4 rounded-xl shadow-sm">
                    <p class="text-xs font-bold text-slate-500 uppercase">Daily Burn Rate</p>
                    <p class="text-2xl font-black text-red-500">$${(vzwTotal / 30).toFixed(2)}<span class="text-sm font-normal text-slate-400">/day</span></p>
                    <p class="text-[10px] text-slate-400">Targeting < $1.00/line/day</p>
                </div>
            `;

            // Render Mobile
            const mGrid = document.getElementById('mobile-grid');
            mGrid.innerHTML = data.mobile.map(c => {
                let base = c.rates[lines-1];
                let manualCharge = useAutoPay ? 0 : c.apd;
                let finalRate = base + manualCharge;
                
                if (currentBundle === c.id && c.id === 'att') {
                    finalRate = finalRate * (1 - c.bundleDiscount);
                }

                const total = finalRate * lines;
                const isBundled = currentBundle === c.id;

                return `
                    <div class="card-anim bg-white border-t-4 ${c.color} p-6 rounded-xl shadow-sm border-x border-b ${isBundled ? 'bundle-glow' : ''}">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="font-black text-lg">${c.name}</h3>
                                ${isBundled ? '<span class="text-[10px] bg-red-600 text-white px-2 py-0.5 rounded-full font-bold uppercase tracking-widest">Active Bundle</span>' : ''}
                            </div>
                            <span class="text-xs font-black text-slate-400 uppercase tracking-tighter">$${(total/30).toFixed(2)}/day</span>
                        </div>
                        <div class="flex items-end gap-2 mb-2">
                            <span class="text-4xl font-black">$${finalRate.toFixed(2)}</span>
                            <span class="text-slate-500 text-sm mb-1">/line</span>
                        </div>
                        <p class="text-xs font-bold text-slate-500 mb-4">Household Total: $${total.toFixed(2)}/mo</p>
                        
                        <div class="space-y-2 border-t pt-4">
                             <div class="flex justify-between text-[10px] font-bold uppercase ${useAutoPay ? 'text-green-600' : 'text-red-500'}">
                                <span>AutoPay Discount</span>
                                <span>${useAutoPay ? '-$'+c.apd : 'NOT APPLIED'}</span>
                             </div>
                             ${isBundled && c.id === 'att' ? `
                             <div class="flex justify-between text-[10px] font-bold uppercase text-blue-600">
                                <span>20% Bundle Savings</span>
                                <span>-$${(base * 0.2).toFixed(2)}</span>
                             </div>` : ''}
                        </div>
                    </div>
                `;
            }).join('');

            // Update Bundle Savings Box
            const bundleMath = document.getElementById('bundle-math');
            const savingsVal = document.getElementById('savings-val');
            if (currentBundle !== 'none') {
                bundleMath.classList.remove('hidden');
                let sTotal = 0;
                if (currentBundle === 'vzw' || currentBundle === 'tmo') sTotal = 15;
                if (currentBundle === 'att') sTotal = (vzwTotal * 0.2) + (80 - 64);
                savingsVal.innerText = `-$${sTotal.toFixed(2)}`;
            } else {
                bundleMath.classList.add('hidden');
            }
        }

        window.onload = renderAll;
    </script>
</body>
</html>